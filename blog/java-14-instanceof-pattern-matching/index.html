<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Java 14 instanceof Pattern Matching | </title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="Java 14 instanceof Pattern Matching code example">
  <meta name="keywords" content="java , java14 , new-feature">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  
  
    
 
  
  
  
  
  
  
    
    <link type="text/css" rel="stylesheet" href="/css/post.min.2cb93c91050d1853bf971cc31e00122edd6e0f405aa1de3b7f8ef67ea3b5a79a.css" integrity="sha256-LLk8kQUNGFO/lxzDHgASLt1uD0Baod47f472fqO1p5o="/>
  
    
    <link type="text/css" rel="stylesheet" href="/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css" integrity="sha256-47DEQpj8HBSa&#43;/TImW&#43;5JCeuQeRkm5NMpJWZG3hSuFU="/>
  
  
   
   
    

<script type="application/ld+json">
  
    {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/piotrglazar.github.io\/"
      },
      "articleSection" : "blog",
      "name" : "Java 14 instanceof Pattern Matching",
      "headline" : "Java 14 instanceof Pattern Matching",
      "description" : "Java 14 instanceof Pattern Matching code example",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2020",
      "datePublished": "2020-09-13 13:28:39 \x2b0200 CEST",
      "dateModified" : "2020-09-13 13:28:39 \x2b0200 CEST",
      "url" : "https:\/\/piotrglazar.github.io\/blog\/java-14-instanceof-pattern-matching\/",
      "wordCount" : "306",
      "keywords" : ["java", "java14", "new-feature", "Blog"]
    }
  
  </script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-173435400-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" id="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">about</a>
      </li>
    
      <li>
        <a  class="active"
         href="/blog">blog</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">Java 14 instanceof Pattern Matching</h1>
            <time datetime="2020-09-13 13:28:39 &#43;0200 CEST" class="post__date"
            >Sep 13 2020</time>
          </header>
          <article class="post__content">
              
<h1 id="introduction">Introduction</h1>
<p>As of today, <a href="https://openjdk.java.net/projects/jdk/14/">Java 14</a> is the latest Java version.
It introduces various cool features that I&rsquo;d like to show here. However, in this post
I will focus on <code>Pattern Matching for instanceof</code>. This feature is in <code>preview</code>, so you have
to explicitly enable it in your project. You can check my previous post to see how to do it
in Gradle. Alternatively, you can take a look at full example <a href="https://github.com/piotrglazar/personal-blog-code/blob/master/java-examples/src/main/java/com/piotrglazar/InstanceOfPatternMatching.java">here</a>.</p>
<h1 id="motivation">Motivation</h1>
<p>Pretty much every program contains a piece of code that is similar to the following one:</p>
<pre><code class="language-java">if (obj instanceof Integer) {
    Integer i = (Integer) obj;
    // do something with i
}
</code></pre>
<p>As you can see, in order to do a simple thing, you have to type a lot of code. Basically three
things happen underneath:</p>
<ul>
<li>a test,</li>
<li>a conversion (or a cast),</li>
<li>local variable declaration.
Consider this Scala equivalent:</li>
</ul>
<pre><code class="language-scala">obj match {
    case Int =&gt; // do something with obj
    case _ =&gt; // do nothing
}
</code></pre>
<p>It looks better, doesn&rsquo;t it? Can we have something similar in Java?</p>
<h1 id="java-14-feature">Java 14 feature</h1>
<p>Java 14 comes along with pattern matching for instanceof. Take a look at the follwing piece
of code:</p>
<pre><code class="language-java">public static void whoIsIt(Object o) {
    if (o instanceof Integer i) {
        LOGGER.info(&quot;I'm an integer {}&quot;, i);
    } else if (o instanceof String s) {
        LOGGER.info(&quot;I'm a string {}&quot;, s);
    } else {
        LOGGER.info(&quot;Unknown argument {}&quot;, o);
    }
}
</code></pre>
<p>As you can see, all three things happen in one line of code.
From now one you can benefit from cleaner code that is easier to read than the previous one.
Of course, this code is null-safe. The pattern will only match,
and the variable will only be assigned, if obj is not null.</p>
<h2 id="further-reading">Further reading<a class="anchor" href="#further-reading">#</a></h2>
<p>Working example can be found in my <a href="https://github.com/piotrglazar/personal-blog-code/blob/master/java-examples/src/main/java/com/piotrglazar/InstanceOfPatternMatching.java">GitHub repo</a>.
You can find full feature description <a href="https://openjdk.java.net/jeps/305">here</a>.</p>


              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="https://piotrglazar.github.io/tags/java/">java</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://piotrglazar.github.io/tags/java14/">java14</a>
    </li>
    <li class="tag__item">
        <a class="tag__link" href="https://piotrglazar.github.io/tags/new-feature/">new-feature</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="https://piotrglazar.github.io/blog/java-preview-features-in-gradle/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">Java Preview Features</span>
    </a>
  

  
</div>

          
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
  
     
    
      <a class="social-icons__link" title="GitHub"
         href="https://github.com/piotrglazar"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://piotrglazar.github.io/svg/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Email"
         href="mailto:piotrDOTglazarATgmailDOTcom"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://piotrglazar.github.io/svg/email.svg')"></div>
      </a>
    
  
     
    
  
     
    
  
     
    
  
     
    
      <a class="social-icons__link" title="LinkedIn"
         href="https://www.linkedin.com/in/piotr-glazar/"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://piotrglazar.github.io/svg/linkedin.svg')"></div>
      </a>
    
  
     
    
     
</div>

            <p>Â© 2020</p>
          </footer>
          </div>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  <script src="https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js"></script>

  
  <script src="https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"
    data-autoloader-path="https://unpkg.com/prismjs@1.20.0/components/"></script>

  


</body>

</html>
